<form autocomplete="off" onsubmit="return validateSearchForm()" id="form-search" name="form-search">
    <div class="input-group">
        <span class="input-group-text" id="basic-addon1">
            <i class="bi bi-search"></i>
        </span>
        <input type="text" class="form-control" id="input-query" placeholder="What's on your mind?" aria-label="Search" aria-describedby="basic-addon1" name="q">
        
        <button type="submit" class="btn btn-primary" id="btn-get-matches">Search</button>
    </div>
    <div class="d-flex justify-content-between mt-3 gap-4">
        {% set labels = data.labels %}
        <span class="fw-semibold">Suggestions: {% include 'label_badges.html' %} {% include 'date_badges.html' %}</span>
        <div class="form-check form-switch fw-semibold">
            <input class="form-check-input" type="checkbox" role="switch" id="input-insights" name="insights">
            <label class="form-check-label text-nowrap" for="input-insights">AI insights</label>
        </div>
    </div>
</form>

<script>
    const urlParams = new URLSearchParams(window.location.search);
    const query = urlParams.get('q');
    const insights = urlParams.get('insights');
    if (query) {
        document.getElementById('input-query').value = query;
    }
    if (insights) {
        document.getElementById('input-insights').checked = true;
    }
</script>



<div id="alert-search" class="alert alert-warning d-none mt-3" role="alert">
    Please input a search term to get the matches.
</div>